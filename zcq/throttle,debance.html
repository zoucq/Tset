<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
	<style type="text/css" media="screen">

    	*{padding:0;margin:0;}
	    .scroll-box{
	        width : 100%;
	        height : 500px;
	        background:#ccc;
	        overflow : auto;
	    }    
	    .scroll-item{
	        height:1000px;
	        width:100%;
	    }
		
	</style>
</head>
<body>

	<div class="scroll-box">
	    <div class="scroll-item">
	    	<div class="item" id="test"></div>
	    </div>
	</div>

	
	<script src="https://cdn.bootcss.com/jquery/1.11.0/jquery.min.js"></script>
	<script>
		$(function(){

			// 阻止函数重复调用，提高性能
			// 函数节流的基本思想是设置一个定时器，在指定时间间隔内运行代码时清楚上一次的定时器，并设置另一个定时器，知道函数请求停止并超过时间间隔才会执行。

			$(".scroll-box").on('scroll',function(){
				fun();
				// tho();
			})

			var fun=throttle(tho,1000,2000);

			function throttle(method,time,duration){
				var timer=null,
					startTime=new Date();
				return function(){
					var context=this,
						endTime=new Date(),
						resTime=endTime-startTime;
					clearTimeout(timer);
					if(resTime>=time){
						method.call(context);
						startTime=endTime;
					}else{
						timer=setTimeout(function(){
							method.call(context);
						},duration);
					}

				}

			}

			function tho(){
				console.log('success');
			}


		})

	</script>

</body>
</html>